<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BrewOS - Open Source Espresso Machine Firmware</title>
    <meta
      name="description"
      content="Transform your espresso machine with precise PID temperature control, WiFi monitoring, and OTA updates. Open-source firmware for coffee enthusiasts."
    />
    <meta
      name="keywords"
      content="espresso, coffee, PID, firmware, raspberry pi pico, esp32, open source, temperature control"
    />
    <meta name="theme-color" content="#391f12" />

    <!-- Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-YMSSDYE742"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-YMSSDYE742");
    </script>

    <!-- Open Graph -->
    <meta
      property="og:title"
      content="BrewOS - Professional Espresso Machine Control"
    />
    <meta
      property="og:description"
      content="Transform your espresso machine with precise PID temperature control, WiFi monitoring, and OTA updates."
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://brewos.coffee" />
    <meta
      property="og:image"
      content="https://brewos.coffee/assets/sizes/social/icon/full-color/Brewos-1080x1080.png"
    />

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/x-icon"
      href="assets/sizes/favicon/icon/full-color/favicon.ico"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="assets/sizes/favicon/icon/full-color/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="assets/sizes/favicon/icon/full-color/favicon-16x16.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="assets/sizes/favicon/icon/full-color/apple-touch-icon.png"
    />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --coffee-900: #1a0f0a;
        --coffee-800: #391f12;
        --coffee-700: #5c3d2e;
        --coffee-600: #7c5a47;
        --coffee-500: #9b7a68;
        --cream-100: #faf8f5;
        --cream-200: #f5f0e8;
        --cream-300: #e8e0d5;
        --cream-400: #d4c8b8;
        --accent: #c4703c;
        --accent-light: #e8a066;
        --accent-glow: rgba(196, 112, 60, 0.25);
        --success: #2d7a4f;
        --text-primary: #1a0f0a;
        --text-secondary: #5c3d2e;
        --text-muted: #9b7a68;
        --white: #ffffff;
        --shadow-sm: 0 1px 2px rgba(26, 15, 10, 0.05);
        --shadow-md: 0 4px 12px rgba(26, 15, 10, 0.08);
        --shadow-lg: 0 12px 40px rgba(26, 15, 10, 0.12);
        --shadow-xl: 0 24px 60px rgba(26, 15, 10, 0.16);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html {
        scroll-behavior: smooth;
      }

      body {
        font-family: "Plus Jakarta Sans", -apple-system, BlinkMacSystemFont,
          sans-serif;
        background: var(--cream-100);
        color: var(--text-primary);
        line-height: 1.6;
        overflow-x: hidden;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 24px;
      }

      /* ===== HEADER ===== */
      header {
        position: fixed;
        width: 100%;
        top: 0;
        z-index: 1000;
        background: rgba(250, 248, 245, 0.85);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border-bottom: 1px solid rgba(212, 200, 184, 0.5);
        transition: all 0.3s ease;
        padding: 10px 0;
      }

      header.scrolled {
        box-shadow: var(--shadow-md);
      }

      nav {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 16px 0;
      }

      .logo {
        display: flex;
        align-items: center;
        text-decoration: none;
      }

      .logo img {
        height: 44px;
        width: auto;
      }

      .nav-links {
        display: flex;
        align-items: center;
        gap: 8px;
        list-style: none;
      }

      .nav-links a {
        color: var(--text-secondary);
        text-decoration: none;
        font-weight: 500;
        font-size: 0.95rem;
        padding: 10px 16px;
        border-radius: 8px;
        transition: all 0.2s ease;
      }

      .nav-links a:hover {
        color: var(--coffee-800);
        background: var(--cream-200);
      }

      .nav-cta {
        background: var(--coffee-800) !important;
        color: var(--white) !important;
        margin-left: 8px;
      }

      .nav-cta:hover {
        background: var(--coffee-700) !important;
        transform: translateY(-1px);
      }

      .nav-signin {
        background: transparent !important;
        color: var(--accent) !important;
        border: 1.5px solid var(--accent);
      }

      .nav-signin:hover {
        background: var(--accent) !important;
        color: var(--white) !important;
        transform: translateY(-1px);
      }

      .nav-install {
        display: none;
        color: var(--accent) !important;
        border: 1.5px solid var(--accent);
      }

      .nav-install:hover {
        opacity: 0.9;
        transform: translateY(-1px);
      }

      .nav-install.visible {
        display: inline-flex;
      }

      .mobile-menu-btn {
        display: none;
        background: none;
        border: none;
        cursor: pointer;
        padding: 8px;
      }

      .mobile-menu-btn span {
        display: block;
        width: 24px;
        height: 2px;
        background: var(--coffee-800);
        margin: 5px 0;
        transition: 0.3s;
      }

      .mobile-menu {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        background: var(--cream-100);
        z-index: 1001;
        padding: 80px 24px 24px;
        overflow-y: auto;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
      }

      .mobile-menu.active {
        display: block;
        transform: translateX(0);
      }

      .mobile-menu ul {
        list-style: none;
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .mobile-menu li {
        width: 100%;
      }

      .mobile-menu a {
        display: block;
        padding: 16px;
        color: var(--text-secondary);
        text-decoration: none;
        font-weight: 500;
        border-radius: 8px;
        transition: all 0.2s ease;
      }

      .mobile-menu a:hover {
        background: var(--cream-200);
        color: var(--coffee-800);
      }

      .mobile-menu .nav-cta {
        background: var(--coffee-800);
        color: var(--white);
        margin-top: 8px;
      }

      .mobile-menu .nav-signin {
        background: transparent;
        color: var(--accent);
        border: 1.5px solid var(--accent);
        margin-top: 8px;
      }

      .mobile-menu .nav-install {
        display: none;
        background: transparent;
        color: var(--accent);
        border: 1.5px solid var(--accent);
        margin-top: 8px;
        text-align: center;
      }

      .mobile-menu .nav-install.visible {
        display: block;
      }

      .mobile-menu-close {
        position: absolute;
        top: 20px;
        right: 24px;
        background: none;
        border: none;
        font-size: 28px;
        color: var(--coffee-800);
        cursor: pointer;
        padding: 8px;
        line-height: 1;
      }

      .mobile-menu-btn.active span:nth-child(1) {
        transform: rotate(45deg) translate(5px, 5px);
      }

      .mobile-menu-btn.active span:nth-child(2) {
        opacity: 0;
      }

      .mobile-menu-btn.active span:nth-child(3) {
        transform: rotate(-45deg) translate(7px, -6px);
      }

      /* ===== HERO ===== */
      .hero {
        padding: 140px 0 100px;
        background: linear-gradient(
          180deg,
          var(--cream-100) 0%,
          var(--cream-200) 100%
        );
        position: relative;
        overflow: hidden;
      }

      .hero::before {
        content: "";
        position: absolute;
        top: -50%;
        right: -20%;
        width: 80%;
        height: 150%;
        background: radial-gradient(
          ellipse,
          rgba(196, 112, 60, 0.08) 0%,
          transparent 70%
        );
        pointer-events: none;
      }

      .hero-content {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 80px;
        align-items: center;
      }

      .hero-badge {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        background: var(--white);
        border: 1px solid var(--cream-300);
        padding: 8px 16px;
        border-radius: 100px;
        font-size: 0.85rem;
        font-weight: 500;
        color: var(--text-secondary);
        margin-bottom: 24px;
        box-shadow: var(--shadow-sm);
      }

      .hero-badge .dot {
        width: 8px;
        height: 8px;
        background: var(--success);
        border-radius: 50%;
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }

      .hero h1 {
        font-size: 3.5rem;
        font-weight: 800;
        line-height: 1.1;
        color: var(--coffee-800);
        margin-bottom: 24px;
        letter-spacing: -0.02em;
      }

      .hero h1 span {
        background: linear-gradient(
          135deg,
          var(--accent) 0%,
          var(--accent-light) 100%
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .hero-description {
        font-size: 1.2rem;
        color: var(--text-secondary);
        margin-bottom: 40px;
        max-width: 480px;
      }

      .hero-cta {
        display: flex;
        gap: 16px;
        flex-wrap: wrap;
      }

      .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        padding: 16px 32px;
        border-radius: 12px;
        font-weight: 600;
        font-size: 1rem;
        text-decoration: none;
        transition: all 0.2s ease;
        cursor: pointer;
        border: none;
      }

      .btn-primary {
        background: var(--coffee-800);
        color: var(--white);
        box-shadow: var(--shadow-md), 0 4px 20px rgba(57, 31, 18, 0.25);
      }

      .btn-primary:hover {
        background: var(--coffee-700);
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg), 0 8px 30px rgba(57, 31, 18, 0.3);
      }

      .btn-secondary {
        background: var(--white);
        color: var(--coffee-800);
        border: 2px solid var(--cream-300);
      }

      .btn-secondary:hover {
        border-color: var(--coffee-800);
        background: var(--cream-100);
      }

      .hero-stats {
        display: flex;
        gap: 40px;
        margin-top: 48px;
        padding-top: 32px;
        border-top: 1px solid var(--cream-300);
      }

      .stat {
        text-align: left;
      }

      .stat-value {
        font-size: 2rem;
        font-weight: 800;
        color: var(--coffee-800);
      }

      .stat-label {
        font-size: 0.9rem;
        color: var(--text-muted);
      }

      .hero-visual {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .hero-image {
        max-width: 100%;
        height: auto;
        filter: drop-shadow(0 40px 80px rgba(26, 15, 10, 0.2));
        animation: float 6s ease-in-out infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-20px);
        }
      }

      /* ===== FEATURES ===== */
      .features {
        padding: 120px 0;
        background: var(--white);
      }

      .section-header {
        text-align: center;
        max-width: 640px;
        margin: 0 auto 64px;
      }

      .section-label {
        display: inline-block;
        font-size: 0.85rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: var(--accent);
        margin-bottom: 16px;
      }

      .section-title {
        font-size: 2.5rem;
        font-weight: 800;
        color: var(--coffee-800);
        margin-bottom: 16px;
        letter-spacing: -0.02em;
      }

      .section-description {
        font-size: 1.1rem;
        color: var(--text-secondary);
      }

      .feature-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 32px;
      }

      .feature-card {
        background: var(--cream-100);
        border: 1px solid var(--cream-300);
        border-radius: 20px;
        padding: 40px 32px;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .feature-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(
          90deg,
          var(--accent) 0%,
          var(--accent-light) 100%
        );
        transform: scaleX(0);
        transition: transform 0.3s ease;
      }

      .feature-card:hover {
        transform: translateY(-8px);
        box-shadow: var(--shadow-xl);
        border-color: transparent;
      }

      .feature-card:hover::before {
        transform: scaleX(1);
      }

      .feature-icon {
        width: 72px;
        height: 72px;
        background: linear-gradient(
          135deg,
          var(--coffee-800) 0%,
          var(--coffee-700) 100%
        );
        border-radius: 18px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 28px;
        box-shadow: 0 8px 24px rgba(57, 31, 18, 0.2);
      }

      .feature-icon svg {
        width: 36px;
        height: 36px;
        color: var(--cream-100);
      }

      .feature-card h3 {
        font-size: 1.25rem;
        font-weight: 700;
        color: var(--coffee-800);
        margin-bottom: 12px;
      }

      .feature-card p {
        color: var(--text-secondary);
        font-size: 0.95rem;
        line-height: 1.7;
      }

      /* ===== HOW IT WORKS ===== */
      .how-it-works {
        padding: 120px 0;
        background: linear-gradient(
          180deg,
          var(--cream-200) 0%,
          var(--cream-100) 100%
        );
      }

      .steps {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 32px;
        margin-top: 64px;
      }

      .step {
        text-align: center;
        position: relative;
      }

      .step:not(:last-child)::after {
        content: "";
        position: absolute;
        top: 40px;
        right: -16px;
        width: calc(100% - 80px);
        height: 2px;
        background: linear-gradient(
          90deg,
          var(--accent) 0%,
          var(--cream-300) 100%
        );
      }

      .step-number {
        width: 80px;
        height: 80px;
        background: var(--white);
        border: 3px solid var(--accent);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 24px;
        font-size: 1.5rem;
        font-weight: 800;
        color: var(--accent);
        position: relative;
        z-index: 1;
      }

      .step h3 {
        font-size: 1.1rem;
        font-weight: 700;
        color: var(--coffee-800);
        margin-bottom: 8px;
      }

      .step p {
        font-size: 0.9rem;
        color: var(--text-secondary);
      }

      /* ===== COMPATIBILITY ===== */
      .compatibility {
        padding: 120px 0;
        background: var(--coffee-800);
        color: var(--white);
        position: relative;
        overflow: hidden;
      }

      .compatibility::before {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        width: 50%;
        height: 100%;
        background: radial-gradient(
          ellipse at right,
          rgba(196, 112, 60, 0.1) 0%,
          transparent 70%
        );
        pointer-events: none;
      }

      .compatibility .section-label {
        color: var(--accent-light);
      }

      .compatibility .section-title {
        color: var(--white);
      }

      .compatibility .section-description {
        color: var(--cream-400);
      }

      .compat-wrapper {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 48px;
        margin-top: 64px;
        position: relative;
        z-index: 1;
      }

      .compat-section {
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 24px;
        padding: 40px;
      }

      .compat-section-header {
        display: flex;
        align-items: center;
        gap: 16px;
        margin-bottom: 32px;
        padding-bottom: 24px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .compat-section-icon {
        width: 56px;
        height: 56px;
        background: linear-gradient(
          135deg,
          var(--accent) 0%,
          var(--accent-light) 100%
        );
        border-radius: 14px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
      }

      .compat-section-icon svg {
        width: 28px;
        height: 28px;
        color: var(--white);
      }

      .compat-section-title h3 {
        font-size: 1.4rem;
        font-weight: 700;
        margin-bottom: 4px;
      }

      .compat-section-title p {
        font-size: 0.9rem;
        color: var(--cream-400);
      }

      .machine-list {
        display: flex;
        flex-direction: column;
        gap: 16px;
      }

      .machine-item {
        display: flex;
        align-items: center;
        gap: 16px;
        padding: 16px 20px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 12px;
        transition: all 0.2s ease;
      }

      .machine-item:hover {
        background: rgba(255, 255, 255, 0.08);
        transform: translateX(4px);
      }

      .machine-item-icon {
        font-size: 1.8rem;
        width: 48px;
        height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 10px;
        flex-shrink: 0;
      }

      .machine-item-content {
        flex: 1;
      }

      .machine-item-content h4 {
        font-size: 1rem;
        font-weight: 600;
        margin-bottom: 2px;
      }

      .machine-item-content p {
        font-size: 0.85rem;
        color: var(--cream-400);
      }

      .machine-item-status {
        padding: 5px 12px;
        border-radius: 100px;
        font-size: 0.75rem;
        font-weight: 600;
        flex-shrink: 0;
      }

      .machine-item-status.supported {
        background: rgba(45, 122, 79, 0.25);
        color: #6ee7a0;
      }

      .machine-item-status.planned {
        background: rgba(255, 255, 255, 0.1);
        color: var(--cream-400);
      }

      .integration-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
      }

      .integration-card {
        padding: 20px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 16px;
        transition: all 0.3s ease;
        text-decoration: none;
        color: inherit;
        display: block;
      }

      .integration-card:hover {
        background: rgba(255, 255, 255, 0.1);
        border-color: var(--accent);
        transform: translateY(-2px);
      }

      .integration-card.featured {
        grid-column: span 2;
        background: linear-gradient(
          135deg,
          rgba(24, 188, 233, 0.15) 0%,
          rgba(24, 188, 233, 0.05) 100%
        );
        border-color: rgba(24, 188, 233, 0.3);
      }

      .integration-card.featured:hover {
        border-color: #18bce9;
      }

      .integration-header {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 12px;
      }

      .integration-logo {
        width: 40px;
        height: 40px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        flex-shrink: 0;
      }

      .integration-logo.ha {
        background: linear-gradient(135deg, #18bce9 0%, #0da5d1 100%);
      }

      .integration-logo.mqtt {
        background: linear-gradient(135deg, #660066 0%, #8b008b 100%);
      }

      .integration-logo.api {
        background: linear-gradient(
          135deg,
          var(--accent) 0%,
          var(--accent-light) 100%
        );
      }

      .integration-logo.webhook {
        background: linear-gradient(135deg, #4a5568 0%, #718096 100%);
      }

      .integration-logo svg {
        width: 22px;
        height: 22px;
        color: white;
      }

      .integration-name {
        font-size: 1rem;
        font-weight: 600;
      }

      .integration-badge {
        margin-left: auto;
        padding: 4px 10px;
        background: rgba(45, 122, 79, 0.25);
        color: #6ee7a0;
        border-radius: 100px;
        font-size: 0.7rem;
        font-weight: 600;
      }

      .integration-desc {
        font-size: 0.85rem;
        color: var(--cream-400);
        line-height: 1.5;
      }

      .integration-features {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 12px;
      }

      .integration-feature {
        padding: 4px 10px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 6px;
        font-size: 0.75rem;
        color: var(--cream-300);
      }

      /* ===== PARTNERS ===== */
      .partners {
        padding: 120px 0;
        background: linear-gradient(
          180deg,
          var(--cream-100) 0%,
          var(--cream-200) 100%
        );
      }

      .partner-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 24px;
        margin-bottom: 48px;
      }

      .partner-card {
        background: var(--white);
        border: 1px solid var(--cream-300);
        border-radius: 16px;
        padding: 32px 24px;
        text-align: center;
        transition: all 0.3s ease;
      }

      .partner-card:hover {
        transform: translateY(-4px);
        box-shadow: var(--shadow-lg);
        border-color: var(--accent);
      }

      .partner-icon {
        width: 56px;
        height: 56px;
        background: linear-gradient(
          135deg,
          var(--accent) 0%,
          var(--accent-light) 100%
        );
        border-radius: 14px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px;
      }

      .partner-icon svg {
        width: 28px;
        height: 28px;
        color: var(--white);
      }

      .partner-card h3 {
        font-size: 1.1rem;
        font-weight: 700;
        color: var(--coffee-800);
        margin-bottom: 8px;
      }

      .partner-card p {
        font-size: 0.9rem;
        color: var(--text-secondary);
        line-height: 1.6;
      }

      .partner-cta {
        text-align: center;
      }

      /* ===== CTA ===== */
      .cta-section {
        padding: 120px 0;
        background: linear-gradient(
          135deg,
          var(--coffee-800) 0%,
          var(--coffee-900) 100%
        );
        text-align: center;
        position: relative;
        overflow: hidden;
      }

      .cta-section::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -20%;
        width: 140%;
        height: 200%;
        background: radial-gradient(
          ellipse,
          rgba(196, 112, 60, 0.15) 0%,
          transparent 60%
        );
        pointer-events: none;
      }

      .cta-content {
        position: relative;
        z-index: 1;
      }

      .cta-section h2 {
        font-size: 3rem;
        font-weight: 800;
        color: var(--white);
        margin-bottom: 16px;
        letter-spacing: -0.02em;
      }

      .cta-section p {
        font-size: 1.2rem;
        color: var(--cream-400);
        margin-bottom: 40px;
        max-width: 500px;
        margin-left: auto;
        margin-right: auto;
      }

      .cta-buttons {
        display: flex;
        gap: 16px;
        justify-content: center;
        flex-wrap: wrap;
      }

      .btn-cta-primary {
        background: var(--accent);
        color: var(--white);
        box-shadow: 0 4px 20px var(--accent-glow);
      }

      .btn-cta-primary:hover {
        background: var(--accent-light);
        transform: translateY(-2px);
      }

      .btn-cta-secondary {
        background: transparent;
        color: var(--white);
        border: 2px solid rgba(255, 255, 255, 0.3);
      }

      .btn-cta-secondary:hover {
        border-color: var(--white);
        background: rgba(255, 255, 255, 0.1);
      }

      /* ===== FOOTER ===== */
      footer {
        padding: 80px 0 40px;
        background: var(--coffee-900);
        color: var(--cream-400);
      }

      .footer-grid {
        display: grid;
        grid-template-columns: 2fr 1fr 1fr 1fr 1fr;
        gap: 48px;
        margin-bottom: 60px;
      }

      .footer-brand img {
        height: 48px;
        margin-bottom: 20px;
        filter: brightness(0) invert(1);
      }

      .footer-brand p {
        font-size: 0.95rem;
        line-height: 1.7;
        max-width: 280px;
      }

      .footer-column h4 {
        color: var(--white);
        font-size: 0.9rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        margin-bottom: 20px;
      }

      .footer-column ul {
        list-style: none;
      }

      .footer-column a {
        color: var(--cream-400);
        text-decoration: none;
        font-size: 0.95rem;
        display: block;
        padding: 8px 0;
        transition: color 0.2s;
      }

      .footer-column a:hover {
        color: var(--white);
      }

      .footer-bottom {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding-top: 40px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
      }

      .footer-bottom p {
        font-size: 0.9rem;
      }

      .social-links {
        display: flex;
        gap: 16px;
      }

      .social-links a {
        width: 40px;
        height: 40px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--cream-400);
        transition: all 0.2s;
      }

      .social-links a:hover {
        background: var(--accent);
        color: var(--white);
      }

      /* ===== RESPONSIVE ===== */
      @media (max-width: 1024px) {
        .hero-content {
          grid-template-columns: 1fr;
          text-align: center;
        }

        .hero-description {
          margin: 0 auto 40px;
        }

        .hero-cta {
          justify-content: center;
        }

        .hero-stats {
          justify-content: center;
        }

        .hero-visual {
          order: -1;
        }

        .hero-image {
          max-width: 300px;
        }

        .feature-grid {
          grid-template-columns: repeat(2, 1fr);
        }

        .steps {
          grid-template-columns: repeat(2, 1fr);
        }

        .step:not(:last-child)::after {
          display: none;
        }

        .compat-wrapper {
          grid-template-columns: 1fr;
          gap: 32px;
        }

        .integration-grid {
          grid-template-columns: 1fr 1fr;
        }

        .partner-grid {
          grid-template-columns: repeat(2, 1fr);
        }

        .footer-grid {
          grid-template-columns: repeat(2, 1fr);
        }
      }

      @media (max-width: 1024px) {
        .nav-links {
          display: none;
        }

        .mobile-menu-btn {
          display: block;
        }

        .mobile-menu {
          display: block;
        }
      }

      @media (max-width: 768px) {
        .hero {
          padding: 120px 0 80px;
        }

        .hero h1 {
          font-size: 2.5rem;
        }

        .hero-stats {
          flex-direction: column;
          gap: 24px;
          align-items: center;
        }

        .stat {
          text-align: center;
        }

        .feature-grid,
        .steps,
        .partner-grid {
          grid-template-columns: 1fr;
        }

        .integration-grid {
          grid-template-columns: 1fr;
        }

        .integration-card.featured {
          grid-column: span 1;
        }

        .compat-section {
          padding: 24px;
        }

        .section-title {
          font-size: 2rem;
        }

        .cta-section h2 {
          font-size: 2rem;
        }

        .footer-grid {
          grid-template-columns: 1fr;
          gap: 40px;
        }

        .footer-bottom {
          flex-direction: column;
          gap: 24px;
          text-align: center;
        }
      }

      /* ===== iOS INSTALL MODAL ===== */
      .ios-install-modal {
        display: none;
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
        z-index: 2000;
        align-items: flex-end;
        justify-content: center;
        padding: 16px;
      }

      .ios-install-modal.active {
        display: flex;
      }

      .ios-install-content {
        background: var(--white);
        border-radius: 20px;
        width: 100%;
        max-width: 400px;
        padding: 24px;
        position: relative;
        animation: slideUp 0.3s ease-out;
      }

      @keyframes slideUp {
        from {
          transform: translateY(100%);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      .ios-modal-close {
        position: absolute;
        top: 16px;
        right: 16px;
        background: none;
        border: none;
        font-size: 24px;
        color: var(--text-muted);
        cursor: pointer;
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 8px;
      }

      .ios-modal-close:hover {
        background: var(--cream-200);
      }

      .ios-install-content h3 {
        font-size: 1.25rem;
        font-weight: 700;
        color: var(--coffee-800);
        margin-bottom: 8px;
      }

      .ios-intro {
        font-size: 0.9rem;
        color: var(--text-muted);
        margin-bottom: 24px;
      }

      .ios-step {
        display: flex;
        gap: 16px;
        margin-bottom: 20px;
      }

      .ios-step-num {
        width: 32px;
        height: 32px;
        background: var(--cream-100);
        border: 2px solid var(--accent);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 0.85rem;
        color: var(--accent);
        flex-shrink: 0;
      }

      .ios-step-content {
        flex: 1;
      }

      .ios-step-title {
        font-weight: 600;
        color: var(--coffee-800);
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 4px;
      }

      .ios-step-hint {
        font-size: 0.85rem;
        color: var(--text-muted);
      }

      .ios-arrow {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        padding: 16px 0;
        color: var(--accent);
      }

      .ios-arrow svg {
        animation: bounce 1s infinite;
      }

      .ios-arrow p {
        font-size: 0.8rem;
        color: var(--text-muted);
      }

      .ios-arrow.hidden {
        display: none;
      }

      @keyframes bounce {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(6px);
        }
      }

      .ios-got-it {
        width: 100%;
        padding: 14px;
        background: var(--cream-200);
        color: var(--coffee-800);
        border: none;
        border-radius: 12px;
        font-weight: 600;
        font-size: 1rem;
        cursor: pointer;
        margin-top: 8px;
        transition: background 0.2s;
      }

      .ios-got-it:hover {
        background: var(--cream-300);
      }

      @media (min-width: 640px) {
        .ios-install-modal {
          align-items: center;
        }

        .ios-arrow {
          display: none;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <nav class="container">
        <a href="/" class="logo">
          <img
            src="assets/1080/horizontal/full-color/Brewos-1080.png"
            alt="BrewOS"
          />
        </a>
        <ul class="nav-links">
          <li><a href="#features">Features</a></li>
          <li><a href="#how-it-works">How It Works</a></li>
          <li><a href="#compatibility">Compatibility</a></li>
          <li><a href="/partnerships.html">Partners</a></li>
          <li>
            <a href="https://github.com/mizrachiran/brewos" target="_blank"
              >GitHub</a
            >
          </li>
          <li>
            <a
              href="#"
              class="nav-install"
              id="installBtn"
              onclick="handleInstallClick(event)"
            >
              Install the App
            </a>
          </li>
          <li>
            <a
              href="/getting-started.html"
              class="nav-cta"
              >Get Started</a
            >
          </li>
          <li>
            <a href="https://cloud.brewos.io?demo=true" class="nav-signin" style="border-color: var(--accent-light); color: var(--accent-light);">Try Demo</a>
          </li>
          <li>
            <a href="https://cloud.brewos.io" class="nav-signin">Sign In</a>
          </li>
        </ul>
        <button class="mobile-menu-btn" aria-label="Menu" id="mobileMenuBtn">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </nav>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
      <button
        class="mobile-menu-close"
        aria-label="Close Menu"
        id="mobileMenuClose"
        onclick="closeMobileMenu()"
      >
        ×
      </button>
      <ul>
        <li><a href="#features">Features</a></li>
        <li><a href="#how-it-works">How It Works</a></li>
        <li><a href="#compatibility">Compatibility</a></li>
        <li><a href="/partnerships.html">Partners</a></li>
        <li>
          <a href="https://github.com/mizrachiran/brewos" target="_blank"
            >GitHub</a
          >
        </li>
        <li>
          <a
            href="/getting-started.html"
            class="nav-cta"
            >Get Started</a
          >
        </li>
        <li>
          <a href="https://cloud.brewos.io?demo=true" class="nav-signin" style="border-color: var(--accent-light); color: var(--accent-light);">Try Demo</a>
        </li>
        <li>
          <a href="https://cloud.brewos.io" class="nav-signin">Sign In</a>
        </li>
        <li>
          <a
            href="#"
            class="nav-install"
            id="installBtnMobile"
            onclick="handleInstallClick(event)"
          >
            Install the App
          </a>
        </li>
      </ul>
    </div>

    <!-- iOS Install Modal -->
    <div
      class="ios-install-modal"
      id="iosInstallModal"
      onclick="closeIOSModal(event)"
    >
      <div class="ios-install-content" onclick="event.stopPropagation()">
        <button class="ios-modal-close" onclick="closeIOSModal(event)">
          ×
        </button>
        <h3>Install BrewOS</h3>
        <p class="ios-intro">Install BrewOS on your device for quick access</p>

        <div class="ios-step">
          <div class="ios-step-num">1</div>
          <div class="ios-step-content">
            <div class="ios-step-title">
              Tap the Share button
              <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                style="color: var(--accent)"
              >
                <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8" />
                <polyline points="16 6 12 2 8 6" />
                <line x1="12" y1="2" x2="12" y2="15" />
              </svg>
            </div>
            <p class="ios-step-hint" id="shareHint">
              Located at the bottom of your screen
            </p>
          </div>
        </div>

        <div class="ios-step">
          <div class="ios-step-num">2</div>
          <div class="ios-step-content">
            <div class="ios-step-title">
              Add to Home Screen
              <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                style="color: var(--accent)"
              >
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
                <line x1="12" y1="8" x2="12" y2="16" />
                <line x1="8" y1="12" x2="16" y2="12" />
              </svg>
            </div>
            <p class="ios-step-hint">
              Scroll down and tap "Add to Home Screen"
            </p>
          </div>
        </div>

        <div class="ios-step">
          <div
            class="ios-step-num"
            style="background: #2d7a4f; border-color: #2d7a4f; color: white"
          >
            ✓
          </div>
          <div class="ios-step-content">
            <div class="ios-step-title">Tap "Add"</div>
            <p class="ios-step-hint">
              Confirm to add BrewOS to your home screen
            </p>
          </div>
        </div>

        <div class="ios-arrow" id="iosArrow">
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M19 14l-7 7m0 0l-7-7m7 7V3" />
          </svg>
          <p>Look for the Share button below</p>
        </div>

        <button class="ios-got-it" onclick="closeIOSModal(event)">
          Got it
        </button>
      </div>
    </div>

    <main>
      <section class="hero">
        <div class="container">
          <div class="hero-content">
            <div class="hero-text">
              <div class="hero-badge">
                <span class="dot"></span>
                Open Source & Community Driven
              </div>
              <h1>
                Unlock Your Espresso Machine's <span>Full Potential</span>
              </h1>
              <p class="hero-description">
                Professional-grade firmware that transforms your espresso
                machine with precise PID control, real-time monitoring, and
                smart features. Built by coffee enthusiasts, for coffee
                enthusiasts.
              </p>
              <div class="hero-cta">
                <a
                  href="https://github.com/mizrachiran/brewos"
                  class="btn btn-primary"
                  target="_blank"
                >
                  <svg
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    fill="currentColor"
                  >
                    <path
                      d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
                    />
                  </svg>
                  View on GitHub
                </a>
                <a
                  href="https://github.com/mizrachiran/brewos/blob/main/README.md"
                  class="btn btn-secondary"
                >
                  Read the Docs
                </a>
              </div>
              <div class="hero-stats">
                <div class="stat">
                  <div class="stat-value">±0.5°C</div>
                  <div class="stat-label">Temperature Stability</div>
                </div>
                <div class="stat">
                  <div class="stat-value">100+</div>
                  <div class="stat-label">Supported Machines</div>
                </div>
                <div class="stat">
                  <div class="stat-value">100%</div>
                  <div class="stat-label">Open Source</div>
                </div>
              </div>
            </div>
            <div class="hero-visual">
              <img
                src="assets/compositions/icon/full-color/Brewos-1080x1080.png"
                alt="BrewOS Logo"
                class="hero-image"
              />
            </div>
          </div>
        </div>
      </section>

      <section class="features" id="features">
        <div class="container">
          <div class="section-header">
            <span class="section-label">Features</span>
            <h2 class="section-title">
              Everything You Need for Perfect Espresso
            </h2>
            <p class="section-description">
              From precise temperature control to remote monitoring, BrewOS
              gives you complete command over your espresso machine.
            </p>
          </div>
          <div class="feature-grid">
            <div class="feature-card">
              <div class="feature-icon">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <circle cx="12" cy="12" r="10" />
                  <circle cx="12" cy="12" r="6" />
                  <circle cx="12" cy="12" r="2" />
                </svg>
              </div>
              <h3>Precision PID Control</h3>
              <p>
                Dual independent PID loops maintain sub-degree temperature
                stability for both brew and steam boilers. Achieve café-quality
                consistency at home.
              </p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z" />
                  <polyline points="8 16 10 14 12 16 16 12" />
                </svg>
              </div>
              <h3>Cloud Connected</h3>
              <p>
                Monitor and control your machine from anywhere in the world.
                Real-time temperatures, pressure, and shot data at your
                fingertips via MQTT.
              </p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M21 2v6h-6" />
                  <path d="M3 12a9 9 0 0 1 15-6.7L21 8" />
                  <path d="M3 22v-6h6" />
                  <path d="M21 12a9 9 0 0 1-15 6.7L3 16" />
                </svg>
              </div>
              <h3>OTA Updates</h3>
              <p>
                Keep your machine running the latest features with wireless
                firmware updates. No cables, no hassle, just better coffee.
              </p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"
                  />
                  <line x1="3" y1="6" x2="21" y2="6" />
                  <path d="M16 10a4 4 0 0 1-8 0" />
                  <line x1="12" y1="2" x2="12" y2="6" />
                </svg>
              </div>
              <h3>Brew-by-Weight</h3>
              <p>
                Connect your Bluetooth scale for automatic shot stopping.
                Achieve consistent ratios every time with Acaia, Felicita, and
                more.
              </p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
                  <path d="M9 12l2 2 4-4" />
                </svg>
              </div>
              <h3>Safety First</h3>
              <p>
                Hardware watchdog, temperature limits, water interlocks, and
                fail-safe design. Your machine is protected at every level.
              </p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <line x1="18" y1="20" x2="18" y2="10" />
                  <line x1="12" y1="20" x2="12" y2="4" />
                  <line x1="6" y1="20" x2="6" y2="14" />
                  <line x1="2" y1="20" x2="22" y2="20" />
                </svg>
              </div>
              <h3>Shot Analytics</h3>
              <p>
                Track your shots, temperatures, and power consumption. Get
                cleaning reminders and maintenance insights automatically.
              </p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <circle cx="12" cy="12" r="10" />
                  <polyline points="12 6 12 12 16 14" />
                </svg>
              </div>
              <h3>Smart Schedules</h3>
              <p>
                Wake up to a pre-heated machine. Set daily schedules, auto-sleep
                timers, and energy-saving modes tailored to your routine.
              </p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <polyline points="22 12 18 12 15 21 9 3 6 12 2 12" />
                </svg>
              </div>
              <h3>Shot Profiling</h3>
              <p>
                Create and save custom pressure and flow profiles. Experiment
                with pre-infusion, ramps, and blooming for the perfect
                extraction.
              </p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" />
                </svg>
              </div>
              <h3>Faster Heat-Up</h3>
              <p>
                Intelligent heating algorithms get your machine ready quicker.
                Smart power management reduces wait time without compromising
                stability.
              </p>
            </div>
          </div>
        </div>
      </section>

      <section class="how-it-works" id="how-it-works">
        <div class="container">
          <div class="section-header">
            <span class="section-label">How It Works</span>
            <h2 class="section-title">Get Started in 4 Simple Steps</h2>
            <p class="section-description">
              Transform your espresso machine in an afternoon with our easy
              installation process.
            </p>
          </div>
          <div class="steps">
            <div class="step">
              <div class="step-number">1</div>
              <h3>Get the Hardware</h3>
              <p>Order the custom PCB and components from our BOM list</p>
            </div>
            <div class="step">
              <div class="step-number">2</div>
              <h3>Flash Firmware</h3>
              <p>Download and flash BrewOS to your Pico & ESP32</p>
            </div>
            <div class="step">
              <div class="step-number">3</div>
              <h3>Install & Wire</h3>
              <p>Replace the stock controller and connect sensors</p>
            </div>
            <div class="step">
              <div class="step-number">4</div>
              <h3>Configure & Brew</h3>
              <p>Set your preferences and start pulling perfect shots</p>
            </div>
          </div>
        </div>
      </section>

      <section class="compatibility" id="compatibility">
        <div class="container">
          <div class="section-header">
            <span class="section-label">Compatibility</span>
            <h2 class="section-title">Works With Everything You Love</h2>
            <p class="section-description">
              From machine types to smart home platforms, BrewOS integrates
              seamlessly with your setup.
            </p>
          </div>
          <div class="compat-wrapper">
            <!-- Machine Types -->
            <div class="compat-section">
              <div class="compat-section-header">
                <div class="compat-section-icon">
                  <svg
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path d="M18 8h1a4 4 0 0 1 0 8h-1" />
                    <path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z" />
                    <line x1="6" y1="1" x2="6" y2="4" />
                    <line x1="10" y1="1" x2="10" y2="4" />
                    <line x1="14" y1="1" x2="14" y2="4" />
                  </svg>
                </div>
                <div class="compat-section-title">
                  <h3>Machine Types</h3>
                  <p>Automatic configuration for any architecture</p>
                </div>
              </div>
              <div class="machine-list">
                <div class="machine-item">
                  <div class="machine-item-icon">☕</div>
                  <div class="machine-item-content">
                    <h4>Dual Boiler</h4>
                    <p>ECM Synchronika, Profitec Pro 700</p>
                  </div>
                  <span class="machine-item-status supported">Supported</span>
                </div>
                <div class="machine-item">
                  <div class="machine-item-icon">🔥</div>
                  <div class="machine-item-content">
                    <h4>Single Boiler</h4>
                    <p>Rancilio Silvia, Gaggia Classic Pro</p>
                  </div>
                  <span class="machine-item-status supported">Supported</span>
                </div>
                <div class="machine-item">
                  <div class="machine-item-icon">💨</div>
                  <div class="machine-item-content">
                    <h4>Heat Exchanger</h4>
                    <p>E61 HX machines with steam priority</p>
                  </div>
                  <span class="machine-item-status supported">Supported</span>
                </div>
                <div class="machine-item">
                  <div class="machine-item-icon">⚡</div>
                  <div class="machine-item-content">
                    <h4>Thermoblock</h4>
                    <p>Breville, DeLonghi style machines</p>
                  </div>
                  <span class="machine-item-status planned">Coming Soon</span>
                </div>
              </div>
            </div>

            <!-- Integrations -->
            <div class="compat-section">
              <div class="compat-section-header">
                <div class="compat-section-icon">
                  <svg
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <circle cx="12" cy="12" r="3" />
                    <path
                      d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"
                    />
                  </svg>
                </div>
                <div class="compat-section-title">
                  <h3>Smart Home & APIs</h3>
                  <p>Connect to your favorite platforms</p>
                </div>
              </div>
              <div class="integration-grid">
                <!-- Home Assistant - Featured -->
                <a
                  href="https://www.home-assistant.io/"
                  target="_blank"
                  class="integration-card featured"
                >
                  <div class="integration-header">
                    <div class="integration-logo ha">
                      <svg viewBox="0 0 24 24" fill="currentColor">
                        <path
                          d="M12 0L1.5 6v12L12 24l10.5-6V6L12 0zm0 2.25l8.25 4.695v9.39L12 21l-8.25-4.695v-9.39L12 2.25zm0 3a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5zm0 2.25a4.5 4.5 0 1 1 0 9 4.5 4.5 0 0 1 0-9zm0 1.5a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"
                        />
                      </svg>
                    </div>
                    <span class="integration-name">Home Assistant</span>
                    <span class="integration-badge">Native</span>
                  </div>
                  <p class="integration-desc">
                    Full native integration via MQTT auto-discovery. Control
                    your machine, monitor temperatures, and automate your coffee
                    routine from your smart home dashboard.
                  </p>
                  <div class="integration-features">
                    <span class="integration-feature">Auto-discovery</span>
                    <span class="integration-feature">Real-time sensors</span>
                    <span class="integration-feature">Automations</span>
                    <span class="integration-feature">Lovelace cards</span>
                  </div>
                </a>

                <!-- MQTT -->
                <div class="integration-card">
                  <div class="integration-header">
                    <div class="integration-logo mqtt">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path d="M22 12h-4l-3 9L9 3l-3 9H2" />
                      </svg>
                    </div>
                    <span class="integration-name">MQTT</span>
                  </div>
                  <p class="integration-desc">
                    Lightweight pub/sub messaging for any IoT platform.
                  </p>
                </div>

                <!-- REST API -->
                <div class="integration-card">
                  <div class="integration-header">
                    <div class="integration-logo api">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <polyline points="16 18 22 12 16 6" />
                        <polyline points="8 6 2 12 8 18" />
                      </svg>
                    </div>
                    <span class="integration-name">REST API</span>
                  </div>
                  <p class="integration-desc">
                    Full HTTP API for custom integrations and apps.
                  </p>
                </div>

                <!-- Webhooks -->
                <div class="integration-card">
                  <div class="integration-header">
                    <div class="integration-logo webhook">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path
                          d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"
                        />
                        <path
                          d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"
                        />
                      </svg>
                    </div>
                    <span class="integration-name">Webhooks</span>
                  </div>
                  <p class="integration-desc">
                    Trigger external services on brew events.
                  </p>
                </div>

                <!-- Bluetooth Scales -->
                <div class="integration-card">
                  <div class="integration-header">
                    <div class="integration-logo api">
                      <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <polyline points="22 12 18 12 15 21 9 3 6 12 2 12" />
                      </svg>
                    </div>
                    <span class="integration-name">BT Scales</span>
                  </div>
                  <p class="integration-desc">
                    Acaia, Felicita, Decent for brew-by-weight.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="partners" id="partners">
        <div class="container">
          <div class="section-header">
            <span class="section-label">For Business</span>
            <h2 class="section-title">Partner with BrewOS</h2>
            <p class="section-description">
              Bring professional-grade firmware to your espresso machines.
              White-label solutions for manufacturers and integrators.
            </p>
          </div>
          <div class="partner-grid">
            <div class="partner-card">
              <div class="partner-icon">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M12 2L2 7l10 5 10-5-10-5z" />
                  <path d="M2 17l10 5 10-5" />
                  <path d="M2 12l10 5 10-5" />
                </svg>
              </div>
              <h3>White-Label Firmware</h3>
              <p>
                Custom branding, UI themes, and feature sets tailored to your
                product line.
              </p>
            </div>
            <div class="partner-card">
              <div class="partner-icon">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <rect x="2" y="3" width="20" height="14" rx="2" ry="2" />
                  <line x1="8" y1="21" x2="16" y2="21" />
                  <line x1="12" y1="17" x2="12" y2="21" />
                </svg>
              </div>
              <h3>Hardware Design</h3>
              <p>
                PCB customization, component selection, and integration support
                for your machines.
              </p>
            </div>
            <div class="partner-card">
              <div class="partner-icon">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z" />
                </svg>
              </div>
              <h3>Cloud Integration</h3>
              <p>
                Connect to your existing platform with our flexible API, or use
                our cloud infrastructure.
              </p>
            </div>
            <div class="partner-card">
              <div class="partner-icon">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
                  <circle cx="9" cy="7" r="4" />
                  <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
                  <path d="M16 3.13a4 4 0 0 1 0 7.75" />
                </svg>
              </div>
              <h3>Dedicated Support</h3>
              <p>
                Priority engineering assistance, custom development, and ongoing
                maintenance.
              </p>
            </div>
          </div>
          <div class="partner-cta">
            <a href="/partnerships.html" class="btn btn-primary">
              Learn More About Partnerships
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <line x1="5" y1="12" x2="19" y2="12" />
                <polyline points="12 5 19 12 12 19" />
              </svg>
            </a>
          </div>
        </div>
      </section>

      <section class="cta-section">
        <div class="container">
          <div class="cta-content">
            <h2>Ready to Transform Your Machine?</h2>
            <p>
              Join the community of coffee enthusiasts building the future of
              home espresso.
            </p>
            <div class="cta-buttons">
              <a
                href="https://github.com/mizrachiran/brewos"
                class="btn btn-cta-primary"
                target="_blank"
              >
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path
                    d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
                  />
                </svg>
                Star on GitHub
              </a>
              <a
                href="https://github.com/mizrachiran/brewos/blob/main/README.md"
                class="btn btn-cta-secondary"
                target="_blank"
              >
                Read the Docs
              </a>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <div class="container">
        <div class="footer-grid">
          <div class="footer-brand">
            <img
              src="assets/1080/horizontal/full-color/Brewos-1080.png"
              alt="BrewOS"
            />
            <p>
              Open-source firmware for espresso machine control. Built with
              passion by coffee enthusiasts around the world.
            </p>
          </div>
          <div class="footer-column">
            <h4>Project</h4>
            <ul>
              <li>
                <a href="https://github.com/mizrachiran/brewos" target="_blank"
                  >GitHub</a
                >
              </li>
              <li>
                <a
                  href="https://github.com/mizrachiran/brewos/releases"
                  target="_blank"
                  >Releases</a
                >
              </li>
              <li>
                <a
                  href="https://github.com/mizrachiran/brewos/blob/main/CONTRIBUTING.md"
                  target="_blank"
                  >Contributing</a
                >
              </li>
              <li>
                <a href="/partnerships.html">Partnerships</a>
              </li>
            </ul>
          </div>
          <div class="footer-column">
            <h4>Resources</h4>
            <ul>
              <li>
                <a
                  href="https://github.com/mizrachiran/brewos/blob/main/SETUP.md"
                  target="_blank"
                  >Documentation</a
                >
              </li>
              <li>
                <a
                  href="https://github.com/mizrachiran/brewos/blob/main/hardware/Specification.md"
                  target="_blank"
                  >Hardware Spec</a
                >
              </li>
              <li>
                <a
                  href="https://github.com/mizrachiran/brewos/issues"
                  target="_blank"
                  >Report Issue</a
                >
              </li>
            </ul>
          </div>
          <div class="footer-column">
            <h4>Community</h4>
            <ul>
              <li>
                <a
                  href="https://github.com/mizrachiran/brewos/discussions"
                  target="_blank"
                  >Discussions</a
                >
              </li>
              <li>
                <a
                  href="https://github.com/mizrachiran/brewos/blob/main/TESTERS.md"
                  target="_blank"
                  >Beta Testers</a
                >
              </li>
              <li>
                <a
                  href="https://github.com/mizrachiran/brewos/blob/main/CODE_OF_CONDUCT.md"
                  target="_blank"
                  >Code of Conduct</a
                >
              </li>
            </ul>
          </div>
          <div class="footer-column">
            <h4>Legal</h4>
            <ul>
              <li><a href="/privacy.html">Privacy Policy</a></li>
              <li><a href="/terms.html">Terms of Service</a></li>
            </ul>
          </div>
        </div>
        <div class="footer-bottom">
          <p>© 2025 BrewOS — Apache 2.0 + Commons Clause</p>
          <div class="social-links">
            <a
              href="https://github.com/mizrachiran/brewos"
              target="_blank"
              aria-label="GitHub"
            >
              <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
                />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </footer>

    <script>
      // Mobile menu toggle
      const mobileMenuBtn = document.getElementById("mobileMenuBtn");
      const mobileMenu = document.getElementById("mobileMenu");

      function openMobileMenu() {
        mobileMenu.classList.add("active");
        mobileMenuBtn.classList.add("active");
        document.body.style.overflow = "hidden";
      }

      function closeMobileMenu() {
        mobileMenu.classList.remove("active");
        mobileMenuBtn.classList.remove("active");
        document.body.style.overflow = "";
      }
      // Expose to window for onclick handler
      window.closeMobileMenu = closeMobileMenu;

      if (mobileMenuBtn) {
        mobileMenuBtn.addEventListener("click", openMobileMenu);
      }

      // Use event delegation for close button to ensure it works
      document.addEventListener("click", (e) => {
        const closeBtn = e.target.closest("#mobileMenuClose");
        if (closeBtn) {
          e.preventDefault();
          e.stopPropagation();
          closeMobileMenu();
        }
      });

      // Close menu when clicking on a link
      if (mobileMenu) {
        mobileMenu.querySelectorAll("a").forEach((link) => {
          link.addEventListener("click", () => {
            closeMobileMenu();
          });
        });

        // Close menu when clicking outside (but not on close button or links)
        mobileMenu.addEventListener("click", (e) => {
          if (
            e.target === mobileMenu &&
            !e.target.closest(".mobile-menu-close") &&
            !e.target.closest("a")
          ) {
            closeMobileMenu();
          }
        });
      }

      // Header scroll effect
      const header = document.querySelector("header");
      window.addEventListener("scroll", () => {
        if (window.scrollY > 50) {
          header.classList.add("scrolled");
        } else {
          header.classList.remove("scrolled");
        }
      });

      // Smooth reveal animation
      const observerOptions = {
        threshold: 0.1,
        rootMargin: "0px 0px -50px 0px",
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.style.opacity = "1";
            entry.target.style.transform = "translateY(0)";
          }
        });
      }, observerOptions);

      document
        .querySelectorAll(
          ".feature-card, .step, .machine-item, .integration-card"
        )
        .forEach((el) => {
          el.style.opacity = "0";
          el.style.transform = "translateY(20px)";
          el.style.transition = "opacity 0.6s ease, transform 0.6s ease";
          observer.observe(el);
        });

      // Google Analytics Event Tracking
      function trackEvent(category, action, label) {
        if (typeof gtag === "function") {
          gtag("event", action, {
            event_category: category,
            event_label: label,
          });
        }
      }

      // Track CTA button clicks
      document
        .querySelectorAll(".btn-primary, .btn-cta-primary")
        .forEach((btn) => {
          btn.addEventListener("click", () => {
            const label = btn.textContent.trim();
            trackEvent("CTA", "click", label);
          });
        });

      document
        .querySelectorAll(".btn-secondary, .btn-cta-secondary")
        .forEach((btn) => {
          btn.addEventListener("click", () => {
            const label = btn.textContent.trim();
            trackEvent("CTA", "click_secondary", label);
          });
        });

      // Track navigation clicks
      document
        .querySelectorAll(".nav-links a, .mobile-menu a")
        .forEach((link) => {
          link.addEventListener("click", () => {
            const label = link.textContent.trim();
            const isExternal = link.hasAttribute("target");
            trackEvent(
              "Navigation",
              isExternal ? "external_click" : "internal_click",
              label
            );
          });
        });

      // Track Sign In clicks
      document.querySelectorAll(".nav-signin").forEach((btn) => {
        btn.addEventListener("click", () => {
          trackEvent("Auth", "sign_in_click", "Header Sign In");
        });
      });

      // Track section views
      const sectionObserver = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              const sectionId =
                entry.target.id || entry.target.className.split(" ")[0];
              trackEvent("Section", "view", sectionId);
              sectionObserver.unobserve(entry.target);
            }
          });
        },
        { threshold: 0.3 }
      );

      document.querySelectorAll("section[id]").forEach((section) => {
        sectionObserver.observe(section);
      });

      // Track footer link clicks
      document.querySelectorAll("footer a").forEach((link) => {
        link.addEventListener("click", () => {
          const label = link.textContent.trim();
          trackEvent("Footer", "click", label);
        });
      });

      // Track GitHub star CTA specifically
      document
        .querySelectorAll('a[href*="github.com/mizrachiran/brewos"]')
        .forEach((link) => {
          link.addEventListener("click", () => {
            trackEvent(
              "GitHub",
              "click",
              link.closest(".cta-section") ? "CTA Section" : "General"
            );
          });
        });

      // ===== PWA INSTALL FUNCTIONALITY =====
      let deferredPrompt = null;
      let isAppInstalled = false;
      const installBtn = document.getElementById("installBtn");
      const installBtnMobile = document.getElementById("installBtnMobile");
      const iosModal = document.getElementById("iosInstallModal");
      const iosArrow = document.getElementById("iosArrow");
      const shareHint = document.getElementById("shareHint");

      // Detect platforms
      const isIOS = /iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());
      const isIPad = /ipad/.test(navigator.userAgent.toLowerCase());
      const isStandalone =
        window.matchMedia("(display-mode: standalone)").matches ||
        window.navigator.standalone === true;

      // Update iOS modal text based on device
      if (isIPad && shareHint) {
        shareHint.textContent = "Located in the top toolbar";
      }
      if (isIPad && iosArrow) {
        iosArrow.classList.add("hidden");
      }

      // Check if app is already installed using getInstalledRelatedApps API
      async function checkIfInstalled() {
        if (isStandalone) {
          isAppInstalled = true;
          return true;
        }

        if ("getInstalledRelatedApps" in navigator) {
          try {
            const relatedApps = await navigator.getInstalledRelatedApps();
            if (relatedApps.length > 0) {
              isAppInstalled = true;
              return true;
            }
          } catch (e) {
            // API not available
          }
        }
        return false;
      }

      // Initialize install buttons
      async function initInstallButtons() {
        const installed = await checkIfInstalled();

        if (installed) {
          // App is already installed - hide install buttons
          if (installBtn) installBtn.classList.remove("visible");
          if (installBtnMobile) installBtnMobile.classList.remove("visible");
          return;
        }

        // Show install button for iOS (even without beforeinstallprompt)
        if (isIOS) {
          if (installBtn) installBtn.classList.add("visible");
          if (installBtnMobile) installBtnMobile.classList.add("visible");
        }
      }

      initInstallButtons();

      // Listen for beforeinstallprompt (Android/Chrome)
      window.addEventListener("beforeinstallprompt", (e) => {
        e.preventDefault();
        deferredPrompt = e;
        // Show install buttons (only if not already installed)
        if (!isAppInstalled) {
          if (installBtn) installBtn.classList.add("visible");
          if (installBtnMobile) installBtnMobile.classList.add("visible");
        }
        trackEvent("PWA", "install_available", "beforeinstallprompt");
      });

      // Handle app installed event
      window.addEventListener("appinstalled", () => {
        isAppInstalled = true;
        if (installBtn) installBtn.classList.remove("visible");
        if (installBtnMobile) installBtnMobile.classList.remove("visible");
        deferredPrompt = null;
        trackEvent("PWA", "installed", "success");
      });

      // Handle install button click
      function handleInstallClick(event) {
        event.preventDefault();

        if (isIOS) {
          // Show iOS instructions modal
          if (iosModal) iosModal.classList.add("active");
          trackEvent("PWA", "ios_instructions_shown", "click");
        } else if (deferredPrompt) {
          // Trigger Android/Chrome install prompt
          deferredPrompt.prompt();
          deferredPrompt.userChoice.then((choiceResult) => {
            if (choiceResult.outcome === "accepted") {
              trackEvent("PWA", "install_accepted", "android");
            } else {
              trackEvent("PWA", "install_dismissed", "android");
            }
            deferredPrompt = null;
          });
        }

        closeMobileMenu();
      }

      // Close iOS modal
      function closeIOSModal(event) {
        if (event) event.preventDefault();
        if (iosModal) iosModal.classList.remove("active");
      }

      // Expose to window
      window.handleInstallClick = handleInstallClick;
      window.closeIOSModal = closeIOSModal;
    </script>
  </body>
</html>
